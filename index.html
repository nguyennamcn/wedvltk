<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Brothers Tranh B√°</title>

<style>
:root{
  --gold:#d4af37;
  --text:#eee;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:radial-gradient(circle at top,#1a1a1a,#000);
  color:var(--text);
  font-family:Segoe UI,Arial;
}

/* ================= HERO ================= */
.hero{
  height:50vh;
  background:
    linear-gradient(rgba(0,0,0,.75),rgba(0,0,0,.9)),
    url("https://i.imgur.com/0rZ0K5A.jpg") center/cover;
  display:flex;
  justify-content:center;
  align-items:center;
}
.hero h1{
  color:var(--gold);
  font-size:52px;
  letter-spacing:3px;
  text-shadow:0 0 30px rgba(212,175,55,.6);
}

/* ================= TABS ================= */
.tabs{
  display:flex;
  justify-content:center;
  gap:14px;
  margin:30px 0;
  flex-wrap:wrap;
}
.tab{
  background:#111;
  border:1px solid var(--gold);
  color:var(--gold);
  padding:12px 18px;
  cursor:pointer;
  border-radius:999px;
  transition:.25s;
}
.tab:hover{
  transform:translateY(-2px);
}
.tab.active{
  background:var(--gold);
  color:#000;
  font-weight:bold;
}

/* ================= SLOT ================= */
.inner-round{
  max-width:1100px;
  margin:30px auto;
  padding:30px;
  border:2px solid var(--gold);
  background:linear-gradient(#0b0b0b,#000);
  text-align:center;
  border-radius:20px;
  box-shadow:0 0 40px rgba(0,0,0,.6);
}
.slots{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:16px;
}
.slot{
  border:1px dashed #333;
  padding:14px;
  border-radius:14px;
  background:radial-gradient(circle,#0d0d0d,#000);
  transition:.3s;
}
.slot.filled{
  border:2px solid var(--gold);
  box-shadow:0 0 20px rgba(212,175,55,.6);
  background:linear-gradient(145deg,#1a1406,#080400);
  font-weight:bold;
}

/* ================= MATCH LIST ================= */
.container{
  max-width:1100px;
  margin:auto;
  padding:30px 20px 60px;
}
.day{
  background:linear-gradient(180deg,#141414,#080808);
  border-left:6px solid var(--gold);
  padding:22px;
  margin-bottom:32px;
  border-radius:18px;
  box-shadow:0 0 30px rgba(0,0,0,.6);
}
.day h2{
  margin:0 0 14px;
  color:var(--gold);
  letter-spacing:1px;
}
.match{
  background:linear-gradient(145deg,#0e0e0e,#050505);
  border:1px solid #1f1f1f;
  padding:16px 18px;
  margin-top:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
  border-radius:12px;
  transition:.25s;
}
.match:hover{
  transform:translateY(-3px) scale(1.01);
  box-shadow:0 12px 28px rgba(0,0,0,.7);
  border-color:var(--gold);
}
.match.winner{
  background:linear-gradient(135deg,#1a1406,#060400);
}

/* ================= STATUS ================= */
.status{
  font-size:12px;
  padding:6px 14px;
  border-radius:999px;
  font-weight:700;
  letter-spacing:.6px;
  min-width:130px;
  text-align:center;
}
.status.upcoming{
  background:linear-gradient(#333,#111);
  color:#bbb;
}
.status.live{
  background:linear-gradient(135deg,#ff0000,#8b0000);
  color:#fff;
  box-shadow:0 0 20px red;
  animation:pulse 1.1s infinite;
}
.status.finished{
  background:linear-gradient(135deg,#0f5132,#062e1d);
  color:#8dffd0;
}

@keyframes pulse{
  0%{box-shadow:0 0 6px red}
  50%{box-shadow:0 0 22px red}
  100%{box-shadow:0 0 6px red}
}

/* ================= MODAL ================= */
.detail-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.92);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:999;
}
.detail-box{
  width:90%;
  max-width:900px;
  background:linear-gradient(#111,#000);
  border:2px solid var(--gold);
  padding:34px;
  border-radius:20px;
  box-shadow:0 0 50px rgba(212,175,55,.45);
  animation:zoomIn .35s ease;
}
@keyframes zoomIn{
  from{transform:scale(.85);opacity:0}
  to{transform:scale(1);opacity:1}
}
.vs-wrap{
  display:grid;
  grid-template-columns:1fr 120px 1fr;
  align-items:center;
  gap:20px;
  margin:34px 0;
}
.vs-center{
  text-align:center;
  font-size:38px;
  color:var(--gold);
  text-shadow:0 0 18px var(--gold);
}
.player{
  background:#0c0c0c;
  border:1px solid #333;
  padding:26px;
  border-radius:16px;
  text-align:center;
}
.player.winner{
  border:2px solid var(--gold);
  background:linear-gradient(145deg,#1a1406,#080400);
  box-shadow:0 0 25px var(--gold);
}
.player-name{
  font-size:22px;
  font-weight:bold;
}
iframe{
  width:100%;
  height:440px;
  border-radius:14px;
  border:1px solid #333;
}
.open-letter-btn{
  position:fixed;
  bottom:30px;
  left:30px;
  z-index:900;
  background:linear-gradient(145deg,#1a1406,#080400);
  color:var(--gold);
  border:2px solid var(--gold);
  padding:12px 20px;
  border-radius:999px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 20px rgba(212,175,55,.4);
  transition:.25s;
}
.open-letter-btn:hover{
  transform:scale(1.05);
}

/* ================= LETTER MODAL ================= */
.letter-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:1000;
}

.letter-scroll{
  width:90%;
  max-width:720px;
  background:linear-gradient(180deg,#1a1406,#050300);
  border:3px solid var(--gold);
  border-radius:26px;
  padding:36px 40px;
  color:#f5e6b8;
  box-shadow:0 0 60px rgba(212,175,55,.5);
  animation:unroll .5s ease;
  position:relative;
}

@keyframes unroll{
  from{transform:scaleY(.3);opacity:0}
  to{transform:scaleY(1);opacity:1}
}

.letter-scroll::before{
  content:"";
  position:absolute;
  inset:0;
  background:url("https://i.imgur.com/7uZKQkG.png") center/contain no-repeat;
  opacity:.05;
  pointer-events:none;
}

.letter-scroll h2{
  color:var(--gold);
  text-align:center;
  margin-bottom:20px;
}

.letter-scroll h3{
  color:var(--gold);
  margin-top:24px;
}

.letter-scroll p,
.letter-scroll li{
  line-height:1.7;
  font-size:16px;
}

.letter-scroll ul{
  padding-left:18px;
}

.letter-sign{
  margin-top:30px;
  text-align:right;
  color:var(--gold);
  font-weight:bold;
  letter-spacing:1px;
}

.letter-close{
  position:absolute;
  top:14px;
  right:18px;
  cursor:pointer;
  color:var(--gold);
  font-size:18px;
}

.open-rank-btn{
  position:fixed;
  bottom: 90px;
  left: 30px;
  z-index:900;
  background:linear-gradient(145deg,#0b1a14,#020806);
  color:#7fffd4;
  border:2px solid #4fd1a5;
  padding:12px 22px;
  border-radius:999px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 20px rgba(79,209,165,.4);
  transition:.25s;
}
.open-rank-btn:hover{
  transform:scale(1.05);
}
/* ================= RANK MODAL ================= */
.rank-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:1000;
}

.rank-box{
  width:92%;
  max-width:820px;
  background:radial-gradient(circle at top,#102018,#020806);
  border:3px solid #4fd1a5;
  border-radius:30px;
  padding:40px;
  box-shadow:0 0 80px rgba(79,209,165,.45);
  animation:rise .45s ease;
}

@keyframes rise{
  from{transform:translateY(40px);opacity:0}
  to{transform:none;opacity:1}
}

.rank-box h2{
  text-align:center;
  color:#7fffd4;
  letter-spacing:3px;
}

.rank-poem{
  text-align:center;
  opacity:.85;
  margin-bottom:30px;
  font-style:italic;
}

.rank-list{
  display:flex;
  flex-direction:column;
  gap:16px;
}

.rank-item{
  display:grid;
  grid-template-columns:80px 1fr 180px;
  align-items:center;
  background:linear-gradient(145deg,#07130f,#020806);
  border:1px solid #1f3f33;
  padding:18px;
  border-radius:20px;
  position:relative;
}

.rank-item.top{
  border:2px solid gold;
  box-shadow:0 0 30px gold;
}

.rank-rank{
  font-size:28px;
  font-weight:bold;
  text-align:center;
  color:#7fffd4;
}

.rank-name{
  font-size:18px;
  font-weight:bold;
}

.rank-title{
  font-size:14px;
  opacity:.85;
}

.rank-aura{
  text-align:right;
  font-weight:bold;
  color:#ffd700;
}

.rank-footer{
  margin-top:26px;
  text-align:center;
  opacity:.7;
}

.rank-close{
  position:absolute;
  top:18px;
  right:22px;
  cursor:pointer;
  color:#7fffd4;
}
.open-champion-btn{
  position:fixed;
  bottom:150px;
  left:30px;
  z-index:900;
  background:linear-gradient(145deg,#2a1600,#120800);
  color:#ffd700;
  border:2px solid gold;
  padding:14px 26px;
  border-radius:999px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 30px gold;
  animation:glow 2s infinite;
}
@keyframes glow{
  0%{box-shadow:0 0 15px gold}
  50%{box-shadow:0 0 40px gold}
  100%{box-shadow:0 0 15px gold}
}
/* ================= CHAMPION ================= */
.champion-modal{
  position:fixed;
  inset:0;
  background:radial-gradient(circle,#120900,#000);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:2000;
}

.champion-box{
  position:relative;
  width:92%;
  max-width:900px;
  padding:60px;
  border:4px solid gold;
  border-radius:40px;
  background:linear-gradient(#1a0f00,#050200);
  text-align:center;
  box-shadow:0 0 120px gold;
  animation:rise 0.6s ease;
}

.champion-box h1{
  color:gold;
  letter-spacing:4px;
}

.champion-name{
  font-size:36px;
  font-weight:bold;
  margin:20px 0;
  text-shadow:0 0 25px gold;
}

.champion-cup{
  font-size:90px;
  animation:float 2.5s infinite;
}

@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-20px)}
  100%{transform:translateY(0)}
}

.champion-poem{
  margin-top:30px;
  font-size:18px;
  font-style:italic;
  opacity:.9;
}

/* R·ªíNG */
.dragon{
  position:absolute;
  top:50%;
  width:180px;
  height:180px;
  background:url("https://i.imgur.com/8VbPZsY.png") center/contain no-repeat;
  opacity:.4;
  animation:dragonFly 6s infinite linear;
}
.dragon.left{left:-80px}
.dragon.right{right:-80px;transform:scaleX(-1)}

@keyframes dragonFly{
  0%{transform:translateY(0)}
  50%{transform:translateY(-40px)}
  100%{transform:translateY(0)}
}

.champion-close{
  position:absolute;
  top:20px;
  right:24px;
  color:gold;
  cursor:pointer;
}


/* ===== RANK VERTICAL ===== */
.rank-vertical{
  max-height:50vh;
  overflow-y:auto;
  padding:20px 16px 30px;
  scrollbar-width:thin;
  scrollbar-color: var(--gold) #0b0b0b;
}

.rank-vertical::-webkit-scrollbar{
  width:8px;
}
.rank-vertical::-webkit-scrollbar-track{
  background:#0b0b0b;
  border-radius:10px;
}
.rank-vertical::-webkit-scrollbar-thumb{
  background:linear-gradient(180deg,#f5d76e,#b8942e);
  border-radius:10px;
}

/* COLUMN */
.rank-column{
  display:flex;
  flex-direction:column;
  gap:22px;
}

/* ITEM */
.rank-item{
  display:flex;
  align-items:center;
  gap:18px;
  background:linear-gradient(160deg,#0f0f0f,#050505);
  border:1px solid #333;
  border-radius:18px;
  padding:18px 22px;
  position:relative;
  transition:.35s;
  box-shadow:0 0 18px rgba(0,0,0,.6);
}

.rank-item:hover{
  transform:translateX(6px);
  box-shadow:0 0 30px rgba(212,175,55,.45);
}

/* TOP 1 */
.rank-item.top{
  border:2px solid var(--gold);
  background:linear-gradient(160deg,#2a1d05,#070400);
  box-shadow:0 0 45px rgba(212,175,55,.8);
}

/* RANK NUMBER */
.rank-rank{
  min-width:46px;
  height:46px;
  border-radius:50%;
  background:#000;
  border:2px solid var(--gold);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  font-size:18px;
  color:var(--gold);
  box-shadow:0 0 12px var(--gold);
}

/* TEXT */
.rank-name{
  font-size:18px;
  font-weight:bold;
  color:#fff;
}

.rank-title{
  font-size:14px;
  color:var(--gold);
  font-style:italic;
  margin-top:4px;
}

.rank-aura{
  margin-left:auto;
  font-size:13px;
  color:#8dffd0;
  opacity:.85;
  white-space:nowrap;
}

</style>
</head>

<body>
    <button class="open-letter-btn" onclick="openLetter()">üìú Th∆∞ Khai M·ªü</button>
    <button class="open-rank-btn" onclick="openRank()">üèØ ƒêi·ªán Phong B·∫£ng</button>
    <button class="open-champion-btn" onclick="openChampion()">üëë Chi·∫øn Th·∫ßn ƒêi·ªán</button>



<section class="hero">
  <h1>BROTHERS TRANH B√Å</h1>
</section>

<div class="tabs">
  <button class="tab active" data-stage="V1" onclick="switchStage('V1')">ü©∏ Khai Chi·∫øn</button>
  <button class="tab" data-stage="V2" onclick="switchStage('V2')">üî• Huy·∫øt ƒê·∫•u</button>
  <button class="tab" data-stage="V3" onclick="switchStage('V3')">‚ö° ƒê·ªãnh M·ªánh</button>
  <button class="tab" data-stage="V4" onclick="switchStage('V4')">üí• T·ªïng L·ª±c</button>
  <button class="tab" data-stage="V5" onclick="switchStage('V5')">üëë Chinh Ph·ª•c</button>
  <button class="tab" data-stage="V6" onclick="switchStage('V6')">üêâ Chi·∫øn Th·∫ßn</button>
</div>

<section class="inner-round">
  <h2 id="slotTitle"></h2>
  <div class="slots" id="slots"></div>
</section>

<div class="container" id="app"></div>

<div class="detail-modal" id="detailModal">
  <div class="detail-box">
    <div style="text-align:right;cursor:pointer" onclick="closeDetail()">‚úñ</div>
    <div class="vs-wrap" id="detailVS"></div>
    <div id="detailVideo"></div>
  </div>
</div>

<div class="letter-modal" id="letterModal">
  <div class="letter-scroll">
    <div class="letter-close" onclick="closeLetter()">‚úñ</div>

    <h2>üìú Th∆∞ Khai M·ªü Brothers Tranh B√°</h2>

    <p>
      Bang <b>Brothers ‚Äì S4 Hoa S∆°n</b> long tr·ªçng t·ªï ch·ª©c
      <b>BROTHERS TRANH B√Å</b>, n∆°i anh h√πng h·ªôi t·ª•,
      ph√¢n ƒë·ªãnh cao th·∫•p, x∆∞ng b√° v√µ l√¢m.
    </p>

    <h3>‚öîÔ∏è Th·ªÉ L·ªá</h3>
    <ul>
      <li>Khai Chi·∫øn: 17 ng∆∞·ªùi ‚Äì 2 l√° thƒÉm may m·∫Øn (v∆∞·ª£t qua v√≤ng )</li>
      <li>Huy·∫øt ƒê·∫•u: 8 tr·∫≠n ‚Äì 8 th·∫Øng + 1 thƒÉm may m·∫Øn (v∆∞·ª£t qua v√≤ng )</li>
      <li>ƒê·ªãnh M·ªánh: 4 tr·∫≠n ‚Äì 4 th·∫Øng + 1 thƒÉm may m·∫Øn (v∆∞·ª£t qua v√≤ng )</li>
      <li>T·ªïng L·ª±c: 2 tr·∫≠n ‚Äì 2 th·∫Øng + 1 thƒÉm may m·∫Øn (v∆∞·ª£t qua v√≤ng )</li>
      <li>Chinh Ph·ª•c: 1 tr·∫≠n ‚Äì 1 th·∫Øng + 1 thƒÉm may m·∫Øn (v∆∞·ª£t qua v√≤ng )</li>
      <li>Chi·∫øn Th·∫ßn: Tr·∫≠n cu·ªëi ƒë·ªãnh thi√™n h·∫°</li>
    </ul>

    <p>
      Ki·∫øm ra kh·ªèi v·ªè, th·∫Øng b·∫°i ph√¢n minh.<br>
      K·∫ª m·∫°nh l∆∞u danh ‚Äì ng∆∞·ªùi thua kh√¥ng o√°n.
    </p>

    <div class="letter-sign">
      Brothers S4 Hoa S∆°n
    </div>
  </div>
</div>

<div class="rank-modal" id="rankModal">
  <div class="rank-box">
    <div class="rank-close" onclick="closeRank()">‚úñ</div>

    <h2>üèØ ƒêI·ªÜN PHONG B·∫¢NG</h2>
    <p class="rank-poem">
      Ki·∫øm xu·∫•t quang h√†n ch·∫•n c·ª≠u thi√™n<br>
      Danh l∆∞u b·∫£ng v√†ng ƒë·ªãnh anh hi·ªÅn
    </p>

    <div class="rank-vertical">
        <div id="rankList" class="rank-column"></div>
    </div>



    <div class="rank-footer">
      Danh v·ªçng kh√¥ng ƒë·∫øn t·ª´ l·ªùi n√≥i ‚Äì m√† t·ª´ m√°u v√† ki·∫øm
    </div>
  </div>
</div>
<div class="champion-modal" id="championModal">
  <audio id="championMusic" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-epic-orchestral-action-165.mp3">
  </audio>

  <div class="champion-box">
    <div class="champion-close" onclick="closeChampion()">‚úñ</div>

    <div class="dragon left"></div>
    <div class="dragon right"></div>

    <h1>üëë CHI·∫æN TH·∫¶N BROTHERS üëë</h1>
    <div class="champion-name" id="championName"></div>

    <div class="champion-cup">üèÜ</div>

    <p class="champion-poem" id="championPoem"></p>
  </div>
</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbyJN9gQuyqMUL-IPkfdoQdb7o6IbU6Uti7dlgmzRjzijyY25kXOckambxJ0YvzxVWOWLw/exec";

let MATCHES=[];
let CURRENT_STAGE="V1";

const STATUS_MAP={
  upcoming:{text:"‚è≥ S·∫Øp di·ªÖn ra",class:"upcoming"},
  live:{text:"üî¥ ƒêang di·ªÖn ra",class:"live"},
  finished:{text:"‚úÖ ƒê√£ k·∫øt th√∫c",class:"finished"}
};

const STAGES={
  V1:{name:"Khai Chi·∫øn",limit:17},
  V2:{name:"Huy·∫øt ƒê·∫•u",limit:9},
  V3:{name:"ƒê·ªãnh M·ªánh",limit:5},
  V4:{name:"T·ªïng L·ª±c",limit:3},
  V5:{name:"Chinh Ph·ª•c",limit:2},
  V6:{name:"Chi·∫øn Th·∫ßn",limit:1}
};

const getStage=id=>id.split("-")[0];

function switchStage(stage){
  CURRENT_STAGE=stage;
  document.querySelectorAll(".tab").forEach(t=>{
    t.classList.toggle("active",t.dataset.stage===stage);
  });
  render();
  renderSlots();
}

async function loadData(){
  const res=await fetch(API_URL);
  MATCHES=await res.json();
  render();
  renderSlots();
}

function render(){
  const app=document.getElementById("app");
  app.innerHTML="";
  const data=MATCHES.filter(m=>getStage(m.id)===CURRENT_STAGE);
  if(!data.length){
    app.innerHTML="<p style='opacity:.6'>Ch∆∞a c√≥ tr·∫≠n ƒë·∫•u</p>";
    return;
  }

  const group={};
  data.forEach(m=>{
    const d=m.day||"Ch∆∞a c√≥ ng√†y";
    group[d]=group[d]||[];
    group[d].push(m);
  });

  Object.keys(group).sort().forEach(day=>{
    app.innerHTML+=`
      <div class="day">
        <h2>üìÖ Ng√†y ${day} ‚Äî ${group[day].length} tr·∫≠n</h2>
        ${group[day].map(m=>`
          <div class="match ${m.winner?'winner':''}" onclick="openDetail('${m.id}')">
            <div>${m.playerA} ‚öîÔ∏è ${m.playerB}</div>
            <div class="status ${STATUS_MAP[m.status]?.class}">
              ${STATUS_MAP[m.status]?.text}
            </div>
          </div>
        `).join("")}
      </div>
    `;
  });
}

function renderSlots(){
  const box=document.getElementById("slots");
  const title=document.getElementById("slotTitle");
  box.innerHTML="";
  const limit=STAGES[CURRENT_STAGE].limit;
  title.innerText=`${limit} danh ng·∫°ch ‚Äì ${STAGES[CURRENT_STAGE].name}`;

  const winners=[...new Set(
    MATCHES.filter(m=>getStage(m.id)===CURRENT_STAGE && m.winner)
           .map(m=>m.winner)
  )].slice(0,limit);

  for(let i=0;i<limit;i++){
    box.innerHTML+=winners[i]
      ? `<div class="slot filled">‚öîÔ∏è ${winners[i]}</div>`
      : `<div class="slot">Ch∆∞a c√≥ ch·ªß</div>`;
  }
}

function openDetail(id){
  const m=MATCHES.find(x=>x.id===id);
  if(!m) return;

  document.getElementById("detailVS").innerHTML=`
    <div class="player ${m.winner===m.playerA?'winner':''}">
      <div class="player-name">${m.playerA}</div>
    </div>
    <div class="vs-center">‚öîÔ∏è</div>
    <div class="player ${m.winner===m.playerB?'winner':''}">
      <div class="player-name">${m.playerB}</div>
    </div>
  `;

  document.getElementById("detailVideo").innerHTML=m.video
    ? `<iframe src="${m.video}" allowfullscreen></iframe>`
    : `<p style="opacity:.6;text-align:center">Tr·∫≠n ƒë·∫•u ch∆∞a di·ªÖn ra</p>`;

  document.getElementById("detailModal").style.display="flex";
}

function closeDetail(){
  document.getElementById("detailModal").style.display="none";
}

function openLetter(){
  document.getElementById("letterModal").style.display="flex";
}
function closeLetter(){
  document.getElementById("letterModal").style.display="none";
}
function openRank(){
  const box = document.getElementById("rankList");
  box.innerHTML = "";

  // helper l·∫•y winner theo id
  const getWinner = (id) =>
    MATCHES.find(m => m.id === id && m.winner)?.winner;

  const RANK_DATA = [
    { rank: 1, ids: ["T1"], title: "Chi·∫øn Th·∫ßn V√¥ Song", power: 100 },
    { rank: 2, ids: ["T2"], title: "Thi√™n H·∫° ƒê·ªá Nh·∫•t Ki·∫øm", power: 90 },
    { rank: 3, ids: ["T3"], title: "Huy·∫øt ·∫¢nh S√°t Th·ªß", power: 80 },
    { rank: 4, ids: ["T4-1","T4-2"], title: "Cu·ªìng Long V√µ T√¥n", power: 70 },
    { rank: 5, ids: ["T5-1","T5-2","T5-3","T5-4"], title: "Phong V√¢n H√†o Ki·ªát", power: 60 }
  ];

  RANK_DATA.forEach(group=>{
    group.ids.forEach((id, idx)=>{
      const name = getWinner(id);
      if(!name) return;

      box.innerHTML += `
        <div class="rank-item ${group.rank===1?'top':''}">
          <div class="rank-rank">${group.rank}</div>

          <div>
            <div class="rank-name">${name}</div>
            <div class="rank-title">${group.title}</div>
          </div>

          <div class="rank-aura">
            ‚öîÔ∏è ${group.power - idx*5} N·ªôi L·ª±c
          </div>
        </div>
      `;
    });
  });

  document.getElementById("rankModal").style.display = "flex";
}

function closeRank(){
  document.getElementById("rankModal").style.display="none";
}
function openChampion(){
  const final = MATCHES.find(
    m => getStage(m.id) === "V6" && m.winner
  );

  const nameBox = document.getElementById("championName");
  const poemBox = document.getElementById("championPoem");

  if(!final){
    nameBox.innerText = "‚öîÔ∏è CHI·∫æN TH·∫¶N CH∆ØA XU·∫§T TH·∫æ ‚öîÔ∏è";

    poemBox.innerHTML = `
      Giang h·ªì n·ªïi s√≥ng kh·∫Øp c·ª≠u ch√¢u<br>
      Anh h√πng t·ªÅ t·ª±u ƒë·ª£i ng√†y ƒë·∫ßu<br>
      Thi√™n m·ªánh ch∆∞a phong ng√¥i ch√≠ t√¥n<br>
      Chi·∫øn Th·∫ßn‚Ä¶ v·∫´n ƒë·ª£i k·∫ª x∆∞ng h·∫ßu
    `;
  }else{
    const name = final.winner;
    nameBox.innerText = name;

    poemBox.innerHTML = `
      M·ªôt ki·∫øm tung ho√†nh tr·∫•n c·ª≠u ch√¢u<br>
      ${name} danh ch·∫•n kh·∫Øp giang h·ªì<br>
      Huy·∫øt chi·∫øn ƒëƒÉng l√¢m ng√¥i ch√≠ t√¥n<br>
      V√µ l√¢m t·ª´ nay g·ªçi t√™n ng∆∞·ªùi
    `;
  }

  document.getElementById("championModal").style.display="flex";
  document.getElementById("championMusic").play();
}

function closeChampion(){
  document.getElementById("championModal").style.display="none";
  document.getElementById("championMusic").pause();
}


loadData();
setInterval(loadData,5000);
</script>

</body>
</html>
